@require "../../vars.styl";

.thumbnail-outer-wrapper
    position: relative
    --_size-icon: 20px;
    --_size-icon-half: 10px;

    &-close-action, &-delete-action, &-add-action, &-custom-action
        position: absolute
        cursor: pointer
        display: flex
        width: var(--_size-icon)
        height: var(--_size-icon)
        z-index: 2
        justify-content: center
        align-items: center
        .material-icons
            color: whiteColor !important
    &-delete-action
        background-color: accentColor
        right: 0
        top: 0
        .material-icons
            font-size: var(--_size-icon) !important
    &-custom-action
        background-color: accentColor
        .material-icons
            font-size: var(--_size-icon) !important
    &-topleft-action
        top: 0
        left: 0
    &-bottomleft-action
        bottom: 0
        left: 0
    &-bottomright-action
        bottom: 0
        right: 0
    &-close-action
        background-color: baseColor
        right: calc(-1 * var(--_size-icon-half));
        top: calc(-1 * var(--_size-icon-half));
        border-radius: 100vw
        border: 3px solid whiteColor
        .material-icons
            font-size: calc(0.6 * var(--_size-icon)) !important
            font-weight: bold
    &-add-action-wrapper
        display: flex
        align-items: center
        justify-content center
        position: absolute
        left: calc(50%)
        height: var(--_size-icon)
        bottom: calc(-1 * var(--_size-icon-half))
        z-index: 2
    &-add-action
        background-color: baseColor
        border-radius: 100vw
        border: 3px solid whiteColor
        .material-icons
            font-size: calc(0.7 * var(--_size-icon)) !important
            font-weight: bold
    &-uploading-icon
        position: absolute
        z-index: 100
        animation-name: uploading-animation
        animation-duration:2s
        animation-iteration-count:infinite

    &-centralFloatingElement
        position: absolute
        display: flex
        align-items: center
        justify-content: center
        width: 100%
        height: 100%
        top: 0
        left: 0
        z-index: 3

    // Loading overlay while a visual is uploading/processing
    .thumbnail-loading-overlay
        position: absolute
        inset: 0
        background: rgba(0,0,0,0.35)
        display: flex
        align-items: center
        justify-content: center
        z-index: 2
        .loader
            position: static
            z-index: 3

    .empty-placeholder
        background-color: #D5D5D5
        height: 100%
        display: flex;
        align-items: center
        justify-content: center
        
    .thumbnail-wrapper
        display: flex
        overflow: hidden
        justify-content: center
        align-items: center
        text-align: center
        box-sizing: border-box
        position: relative

        img
            &.stretch-image
                max-width: 100%
                max-height: 100%

        &.landscape
            &.fit
                flex-direction: column
            &.crop
                flex-direction: row
        &.portrait
            &.fit
                flex-direction: row
            &.crop
                flex-direction: column

    &.is-selected
        .thumbnail-wrapper
            z-index: 1
            &:after
                content: "";
                position: absolute;
                top: 0px;
                left: 0px;
                display: block;
                width: 100%;
                height: 100%;
                border: 3px solid accentColor;
            img
                z-index: -1
    &--hovered
        .thumbnail-outer-wrapper-add-action-wrapper
            z-index: 3
    &--hovered&.is-selectable
        .thumbnail-wrapper
            &:after
                content: "";
                position: absolute;
                top: 0px;
                left: 0px;
                display: block;
                width: 100%;
                height: 100%;
                border: 3px solid accentColor;
    .progress-overlay
        position: absolute
        top: 0
        left: 0
        width: 100%
        height: 100%
        background-color: whiteColor
        opacity: 0.5
        &-bar
            position: absolute
            top: 0
            left: 0
            height: 100%
            background-color: accentColor
            transition: width 0.5s ease
@keyframes uploading-animation
	0%
		opacity: 0

	50%
		opacity: 1.0

	100%
		opacity: 0
